.. _3.0.8-1.3:

====================================
Percona Server for MongoDB 3.0.8-1.3
====================================

Percona is glad to announce the release of Percona Server for MongoDB 3.0.8-1.3 on February 24, 2016. Downloads are available `here <https://www.percona.com/downloads/percona-server-for-mongodb>`_ and from the :ref:`Percona Software Repositories <install>`.

Percona Server for MongoDB is a highly scalable, zero-maintenance downtime database supporting the MongoDB v3.0 protocol and drivers. The latest release is based on `MongoDB 3.0.8 <http://docs.mongodb.org/manual/release-notes/3.0/#dec-15-2015>`_, extending MongoDB with `MongoRocks <http://rocksdb.org>`_ and :ref:`PerconaFT <perconaft>` storage engines, as well as several enterprise features. Percona Server for MongoDB requires no changes to MongoDB applications or code.

.. note:: MongoRocks has been labeled experimental. This is not related to any changes, it is a reminder that the storage engine is still under development. There is currently no officially released version of MongoRocks that can be recommended for production.

New Features
============

* The ``mongod`` daemon now logs ``stdout`` and ``stderr`` to the following files:

  * On Debian and Ubuntu:

    * :file:`/var/log/mongodb/mongod.stdout`
    * :file:`/var/log/mongodb/mongod.stderr`

  * On RHEL and CentOS:

    * :file:`/var/log/mongo/mongod.stdout`
    * :file:`/var/log/mongo/mongod.stderr`

  After you upgrade, make sure that the defaults file contains the ``STDOUT`` and ``STDERR`` variables.

   * On Debian and Ubuntu: :file:`/etc/default/mongod`
   * On RHEL and CentOS: :file:`/etc/sysconfig/mongod`.

  If you did not manually modify the defaults file before upgrading, the installer should correctly replace the defaults file. Otherwise, add the ``STDOUT`` and ``STDERR`` variables after you install the new version of Percona Server for MongoDB.

  On Ubuntu 14.04 LTS (Trusty Tahr), the post-install script cannot correctly start ``mongod`` with ``stdout`` and ``stderr`` not directed to :file:`/dev/null`. To enable the new logging functionality, you need to add the ``-C`` option to the ``start-stop-daemon`` command in :file:`/etc/init.d/mongod`. The line that starts ``mongod`` should look similar to the following:

  .. code-block:: none

     start-stop-daemon -C --background --start --quiet --pidfile $PIDFILEPATH

  After you make necessary changes to the script, restart the daemon:

  .. code-block:: bash

     $ service mongod restart

* Changed the default value of the ``processManagement.fork`` parameter in :file:`mongod.conf` from ``false`` to ``true``. This does not affect normal operation, only PID tracking in the OS.

  Before upgrading on Debian 8 ("jessie"), Ubuntu 15.04 (Vivid Vervet), or Ubuntu 15.10 (Wily Werewolf), you will need to manually change the ``processManagement.fork`` parameter to ``true``.

* `PSMDB-30 <https://jira.percona.com/browse/PSMDB-30>`_: Added SELinux support for Red Hat Enterprise Linux and CentOS.

Bugs Fixed
==========

* `PSMDB-39 <https://jira.percona.com/browse/PSMDB-39>`_: Fixed issue that caused incorrect behavior during :ref:`hot backup <toku-backup>` when the ``--logpath`` option was set.

